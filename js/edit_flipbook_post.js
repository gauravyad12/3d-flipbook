var pluginDir=function(e){var t=(e=document.getElementsByTagName("script"))[e.length-1];return void 0!==t.getAttribute.length?t.src.split("js/edit_flipbook")[0]:t.getAttribute("src",-1).split("js/edit_flipbook")[0]}();!function(e){e(document).ready((function(){postboxes.save_state=function(){},postboxes.save_order=function(){},postboxes.handle_click&&!postboxes.handle_click.guid&&postboxes.add_postbox_toggles();e("#edit-page-modal-wrapper").appendTo(e("body"));var t=e("#edit-page-modal"),o=e(".media-modal-backdrop");if(FLIPBOOK&&FLIPBOOK.PageEditor)var n=new FLIPBOOK.PageEditor(t);function a(){t.hide(),o.hide(),e("body").css("overflow","auto")}e(".media-modal-close").click(a),e("#real3dflipbook-admin").show();var i=null;e(".creating-page").hide(),options=e.parseJSON(window.flipbook[0]);var l=l||c.b,r=r||c.d;if(l(options),options.pages){if(!Array.isArray(options.pages)){var s=[];for(var d in options.pages)s[d]=options.pages[d];options.pages=s}for(var d in options.pages)options.pages[d].htmlContent&&(options.pages[d].htmlContent=unescape(options.pages[d].htmlContent)),options.pages[d].items&&options.pages[d].items.forEach((function(e,t){options.pages[d].items[t].url&&(options.pages[d].items[t].url=unescape(options.pages[d].items[t].url))}))}T("mode","dropdown","Mode","<strong>normal</strong> - embedded in a container div<br/><strong>lightbox</strong> - opens in fullscreen overlay on click<br/><strong>fullscreen</strong> - covers entire page",["normal","lightbox","fullscreen"]),T("viewMode","dropdown","View mode","<strong>webgl</strong> - realistic 3D page flip with lights and shadows<br/><strong>3d</strong> - CSS 3D flip<br/><strong>swipe</strong> - horizontal swipe<br/><strong>simple</strong> - no animation",["webgl","3d","2d","swipe","scroll","simple"]),T("containerRatio","text","Container aspect ratio","Width / height ratio of flipbook container"),T("zoomMin","text","Initial zoom","Initial book zoom, recommended between 0.8 and 1",null,!0),T("zoomStep","text","Zoom step","Between 1.1 and 4",null,!0),T("zoomSize","text","Zoom size","Override maximum zoom, for example 4000 will zoom the page until page height on screen is 4000px)",null,!0),T("zoomReset","checkbox","Reset Zoom","Reset zoom after page flip, window resize, exit from fullscreen or toggle toc, thumbs, bookmarks, search",null,!0),T("doubleClickZoom","checkbox","Double click zoom",null,!0),T("pageDrag","checkbox","Turn pages with click and drag"),T("singlePageMode","checkbox","Single page view","Display one page at a time"),T("pageFlipDuration","text","Flip duration","Duration of flip animation, recommended between 0.5 and 2"),T("sound","checkbox","Page flip sound"),T("backgroundMusic","selectFile","Background music .mp3"),T("startPage","text","Start page","Open flipbook at this page at start"),T("pageNumberOffset","text","Page number offset","to start the book page count at different page, example Cover, 1, 2"),T("deeplinking[enabled]","checkbox","Deep linking","enable to use URL hash to link to specific page, for example #2 will open page 2",null,!0),T("deeplinking[prefix]","text","Deep linking prefix",'custom deep linking prefix, for example "book1_", link to page 2 will have URL hash #book1_2',null,!0),T("responsiveView","checkbox","Responsive view","Switching from two page layout to one page layout if flipbook width is below certain treshold"),T("responsiveViewTreshold","text","Responsive view treshold","Treshold (container width in px) under which responsive view is activated"),T("responsiveViewRatio","text","Responsive view ratio","Aspect ratio (container width / height) under which responsive view is activated"),T("pageTextureSize","text","PDF page size (full)","height of rendered PDF pages in px.",null,!0),T("pageTextureSizeSmall","text","PDF page size (small)","height of rendered PDF pages in px",null,!0),T("minPixelRatio","text","Minimum Pixel ratio","Override device pixel ratio to force higher quality for WebGL."),T("pdfTextLayer","checkbox","PDF text layer","Enable for text selection tool and text search, disable for faster page loading",null,!0),T("pdfAutoLinks","checkbox","PDF auto links","Automatically convert PDF text to links",null,!0),T("disableRange","checkbox","Disable PDF Range requests","Disable partial PDF download",null,!0),T("linkColor","color","Page links color","",null,!0),T("linkColorHover","color","Page links hover color","",null,!0),T("linkOpacity","text","Page links opacity","",null,!0),T("linkTarget","dropdown","Page links target","Open PDF links in new window, same window or lightbox",[{display:"New Window",value:"_blank"},{display:"Same Window",value:"_self"},{display:"Spotlight (Lightbox)",value:"spotlight"}],!0),T("cover","checkbox","Front cover","Disable cover for viewing only inner pages (1-2, 3-4, ...) "),T("backCover","checkbox","Back cover"),T("thumbnailsOnStart","checkbox","Show Thumbnails on start","",null,!0),T("contentOnStart","checkbox","Show Table of Contents on start","",null,!0),T("searchOnStart","text","Search PDF on start","",null,!0),T("tableOfContentCloseOnClick","checkbox","Close Table of Contents when page is clicked","",null,!0),T("thumbsCloseOnClick","checkbox","Close Thumbnails when page is clicked","",null,!0),T("autoplayOnStart","checkbox","Autoplay on start"),T("autoplayLoop","checkbox","Autoplay loop"),T("autoplayInterval","text","Autoplay interval (ms)"),T("rightToLeft","checkbox","Right to left mode","Flipping from right to left (inverted)"),T("thumbSize","text","Thumbnail size","Thumbnail height for thumbnails view"),T("logoImg","selectImage","Logo image","Logo image that will be displayed inside the flipbook container"),T("logoUrl","text","Logo link","URL that will be opened on logo click"),T("logoUrlTarget","dropdown","Logo link target","Open in new window",["_blank","_self"]),T("logoCSS","textarea","Logo CSS","Custom CSS for logo"),T("menuSelector","text","Menu css selector",'Example "#menu" or ".navbar". Used with mode "fullscreen" so the flipbook will be resized correctly below the menu'),T("zIndex","text","Container z-index","Set z-index of flipbook container"),T("preloaderText","text","Preloader text","Text that will be displayed under the preloader spinner"),T("googleAnalyticsTrackingCode","text","Google analytics tracking code","",null,!0),T("pdfBrowserViewerIfIE","checkbox","Download PDF instead of displaying flipbook if browser is Internet Explorer","For PDF flipbook"),T("arrowsAlwaysEnabledForNavigation","checkbox","Force keyboard arrows for navigation","Enable keyboard arrows for navigation even if not fullscreen"),T("arrowsDisabledNotFullscreen","checkbox","Disable arrows for navigation if not fullscreen","Disable arrows for navigation if not fullscreen"),T("touchSwipeEnabled","checkbox","Touch swipe to turn page","Turn pages with touch & swipe or click & drag"),T("rightClickEnabled","checkbox","Right click context menu","Disable to prevent right click image download",null,!0),T("access","dropdown","Access","Direct access to flipbook (flipbook permalink)",["full","woo_subscription","none"],!0),P("modeMobile","dropdown","Mode","Override default mode for mobile",["","normal","lightbox","fullscreen"]),P("viewModeMobile","dropdown","View mode","Override default view mode for mobile",["","webgl","3d","2d","swipe","scroll","simple"]),P("mobile[containerRatio]","text","Container aspect ratio","Width / height ratio of flipbook container"),P("pageTextureSizeMobile","text","PDF page size (full)","The height of rendered PDF pages in px"),P("pageTextureSizeMobileSmall","text","PDF page size (small)","The height of rendered PDF pages in px"),P("singlePageModeIfMobile","checkbox","Single page view","Display one page at a time"),P("mobile[contentOnStart]","checkbox","Show Table of Contents on start"),P("mobile[thumbnailsOnStart]","checkbox","Show Thumbnails on start"),P("logoHideOnMobile","checkbox","Hide logo"),P("mobile[currentPage][enabled]","checkbox","Currernt Page"),D("lightboxCssClass","text","CSS class","CSS class that will trigger lightbox. Add this CSS class to any element that you want to trigger lightbox (Flipbook shortcode needs to be on the page)"),D("lightboxBackground","color","Overlay background","CSS value"),D("lightboxBackgroundPattern","selectImage","Overlay background pattern","Lightbox background image (repeated)"),D("lightboxBackgroundImage","selectImage","Overlay background image","Lightbox background image"),D("lightboxContainerCSS","textarea","Thumbnail container CSS"),D("lightboxThumbnailUrl","selectImage","Thumbnail","Image that will be displayed in place of shortcode, and will trigger lightbox on click");var p=e("input[name='lightboxThumbnailUrl']").parent();e('<a class="generate-thumbnail-button button-secondary button80" href="#">Generate thumbnail</a>').appendTo(p);function u(e){O(e,e+"[enabled]","checkbox","Enabled"),O(e,e+"[title]","text","Title"),O(e,e+"[vAlign]","dropdown","Vertical align","",["top","bottom"]),O(e,e+"[hAlign]","dropdown","Horizontal align","",["right","left","center"]),O(e,e+"[order]","text","Order")}async function g(){pdfjsLib.GlobalWorkerOptions.workerSrc=pluginDir+"js/pdf.worker.min.js";var t={cMapPacked:!0,cMapUrl:pluginDir+"js/cmaps/",disableAutoFetch:!0,disableStream:!0,url:options.pdfUrl};"https:"==location.protocol?t.url=t.url.replace("http://","https://"):"http:"==location.protocol&&(t.url=t.url.replace("https://","http://"));try{i=await b(t)}catch(e){}creatingPage=1,await async function(t){var o=t._pdfInfo.numPages;const a=(await t.getPage(1)).getViewport({scale:1});if(ne(0,a.width/a.height),o>1){const e=(await t.getPage(2)).getViewport({scale:1}),n=e.width/e.height,a=(await t.getPage(o)).getViewport({scale:1}),l=a.width/a.height;for(var i=1;i<o;i++){ne(i,o-1==i?l:n)}}e(".page-delete").hide(),n&&n.setPages(options.pages);return}(i),await X(),await oe(i),FLIPBOOK.PDFTools?e("#r3d-convert").show().click((function(t){t.preventDefault(),e(this).hide(),function(){const t=new FLIPBOOK.PDFTools,o=window.options.globals.pdfTools,a=e("#add-pages-info"),l=e("#add-pages-description"),r=e("#r3d-select-source"),s=e("#r3d-pdf-source"),d=e("#pages-container").addClass("ui-sortable"),c=options.pages;E(),c&&c.forEach((function(e,t){options.pages[t]={},e.items&&(options.pages[t].items=e.items),e.htmlContent&&(options.pages[t].htmlContent=e.htmlContent)}));n&&n.setPages(options.pages);R(),Q("type","jpg"),Q("pdfUrl","");const p=d.find(".page").length;o.plugins_url=options.globals.plugins_url,o.bookId=options.id,o.security=options.security,o.startIndex=p,t.convertPDF(i,o);for(let e=0;e<i._pdfInfo.numPages;e++)N(p+e).appendTo(d).hide().click((function(e){J(this.dataset.index)}));a.show().text("Loading PDF..."),l.hide(),r.prop("disabled",!0),s.prop("disabled",!0),t.eventBus.on("outlineloaded",(function(t){if(t.outline&&t.outline.length){o.tableOfContent=t.outline;for(var n=e("#toc-items").empty(),a=0;a<o.tableOfContent.length;a++){var i=o.tableOfContent[a];j(i.title,i.page,i.items,i.dest).appendTo(n)}}})),t.eventBus.on("pagesaved",(function(e){options.pages=options.pages||[],options.pages[e.index]=options.pages[e.index]||{},options.pages[e.index].src=e.src,options.pages[e.index].thumb=e.thumb,e.json&&(options.pages[e.index].json=e.json);const t=Number(e.index)+Number(p),o=d.find('.page[data-index="'+t+'"]').show();o.find(".page-img img")[0].src=e.thumb,o.find(".page-src").val(e.src),o.find(".page-thumb").val(e.thumb),o.find(".page-json").val(e.json);const n=options.pages[t];if(n){const e=n.htmlContent;e&&o.find(".page-html-content").val(escape(e))}0==e.index&&X(),e.converted==e.total?(a.hide(),l.show(),r.prop("disabled",!1),s.prop("disabled",!1)):a.text("Added page "+e.converted+" of "+e.total)}))}()})):e("#buy-pdf-tools").show()}async function b(e){let t=null;try{t=await pdfjsLib.getDocument(e).promise}catch(t){if("PasswordException"!==t.name)throw t;if(t.code===pdfjsLib.PasswordResponses.NEED_PASSWORD){const t=prompt("This document requires a password:");if(t)return e.password=t,b(e);throw new Error("Password required but not provided.")}if(t.code===pdfjsLib.PasswordResponses.INCORRECT_PASSWORD){alert("Incorrect password. Please try again.");const t=prompt("Please enter the correct password:");if(t)return e.password=t,b(e);throw new Error("Password required but not provided.")}}return t}function h(){window.innerHeight+window.scrollY>=document.body.scrollHeight-50?(e("#r3d-save").removeClass("r3d-save-sticky"),e("#r3d-save-holder").hide()):(e("#r3d-save").addClass("r3d-save-sticky"),e("#r3d-save-holder").show())}function m(){(e=>{for(let t=1;t<e.length;t++)if(e[0]!==e[t])return!1;return!0})(x[0])&&Q("pdfUrl",""),function t(o,n){n=n||"tableOfContent";for(var a=0;a<o.length;a++){$item=e(o[a]),$item.find(".toc-title").attr("name",n+"["+a+"][title]"),$item.find(".toc-page").attr("name",n+"["+a+"][page]");var i=$item.children(".toc-item-wrapper");i.length>0&&t(i,n+"["+a+"][items]")}}(e("#toc-items").children(".toc-item-wrapper"));for(var t=e("#pages-container .page"),o=0;o<t.length;o++)$item=e(t[o]),$item.find(".page-src").attr("name","pages["+o+"][src]"),$item.find(".page-thumb").attr("name","pages["+o+"][thumb]"),$item.find(".page-title").attr("name","pages["+o+"][title]"),$item.find(".page-html-content").attr("name","pages["+o+"][htmlContent]"),$item.find(".page-json").attr("name","pages["+o+"][json]")}D("lightboxThumbnailHeight","text","Thumbnail height","Height of thumbnail that will be generated from PDF"),D("lightboxThumbnailUrlCSS","textarea","Thumbnail CSS","Custom CSS for lightbox thumbnail image"),D("lightboxThumbnailInfo","checkbox","Thumbnail info","book info displayed over thumbnail"),D("lightboxThumbnailInfoText","text","Thumbnail info text","if not set book name will be used"),D("lightboxThumbnailInfoCSS","textarea","Thumbnail info CSS","custom CSS"),D("lightboxText","text","Text link","Text that will be displayed in place of shortcode"),D("lightboxTextCSS","textarea","Text link CSS","Custom CSS for text link"),D("lightboxTextPosition","dropdown","Text link position","Text link above or below the thumbnail",["top","bottom"]),D("lightBoxOpened","checkbox","Opened on start","Lightbox will open automatically on page load"),D("lightBoxFullscreen","checkbox","Openes in fullscreen","Opening the lightbox will put lightbox element to real fullscreen"),D("lightboxCloseOnClick","checkbox","Closes when clicked outside the book","Close lightbox if clicked on the overlay but outside the book"),D("lightboxStartPage","text","Lightbox start page","Open lightbox always as specific page, for example 1"),D("showTitle","checkbox","Show title"),D("showDate","checkbox","Show date"),D("hideThumbnail","checkbox","Hide thumbnail"),D("lightboxMarginV","text","Vertical margin","Lightbox overlay vertical margin"),D("lightboxMarginH","text","Horizontal margin","Lightbox overlay horizontal margin"),D("lightboxLink","text","Link","Open URL (instead of opening flipbook)"),D("lightboxLinkNewWindow","checkbox","Link opens in new window"),u("currentPage"),u("btnAutoplay"),u("btnNext"),u("btnPrev"),u("btnFirst"),u("btnLast"),u("btnZoomIn"),u("btnZoomOut"),u("btnToc"),u("btnThumbs"),u("btnShare"),u("btnSound"),u("btnExpand"),u("btnDownloadPages"),u("btnDownloadPdf"),u("btnPrint"),u("btnSelect"),u("btnSearch"),u("search"),u("btnBookmark"),u("btnTools"),u("btnClose"),O("btnDownloadPages","btnDownloadPages[url]","selectFile","URL of zip file containing all pages"),O("btnDownloadPdf","btnDownloadPdf[url]","selectFile","PDF file URL"),O("btnDownloadPdf","btnDownloadPdf[forceDownload]","checkbox","force download"),O("btnDownloadPdf","btnDownloadPdf[openInNewWindow]","checkbox","open PDF in new browser window"),O("btnPrint","printPdfUrl","selectFile","PDF file for printing"),O("share-buttons","shareTitle","text","Share Title","Title that will be used for sharing"),O("share-buttons","shareUrl","text","Share URL","URL that will be shaed, if not set it will use the website URL"),O("share-buttons","shareImage","text","Share Image","URL of the image for sharing"),O("share-buttons","facebook[enabled]","checkbox","Facebook"),O("share-buttons","twitter[enabled]","checkbox","Twitter"),O("share-buttons","pinterest[enabled]","checkbox","Pinterest"),O("share-buttons","email[enabled]","checkbox","Email"),O("share-buttons","reddit[enabled]","checkbox","Reddit"),O("share-buttons","digg[enabled]","checkbox","Digg"),O("share-buttons","linkedin[enabled]","checkbox","LinkedIn"),O("share-buttons","whatsapp[enabled]","checkbox","Whatsapp"),B("lights","checkbox","Lights","realistic lightning, disable for faster performance"),B("lightPositionX","text","Light pposition x","between -500 and 500"),B("lightPositionY","text","Light position y","between -500 and 500"),B("lightPositionZ","text","Light position z","between 1000 and 2000"),B("lightIntensity","text","Light intensity","between 0 and 1"),B("shadows","checkbox","Shadows","realistic page shadows, disable for faster performance"),B("shadowOpacity","text","Shadow opacity","between 0 and 1"),B("pageHardness","text","Page hardness","between 1 and 5"),B("coverHardness","text","Cover hardness","between 1 and 5"),B("pageRoughness","text","Page material roughness","between 0 and 1"),B("pageMetalness","text","Page material metalness","between 0 and 1"),B("pageSegmentsW","text","Page segments W","between 3 and 20"),B("pageMiddleShadowSize","text","Page middle shadow size","shadow in the middle of the book"),B("pageMiddleShadowColorL","color","left page middle shadow color"),B("pageMiddleShadowColorR","color","right page middle shadow color"),B("antialias","checkbox","Antialiasing","disable for faster performance"),B("pan","text","Camera pan angle","between -10 and 10"),B("tilt","text","Camera tilt angle","between -30 and 0"),B("rotateCameraOnMouseDrag","checkbox","rotate camera on mouse drag"),B("panMax","text","Camera pan max angle","between 0 and 20"),B("panMin","text","Camera pan min angle","between -20 and 0"),B("tiltMax","text","Camera tilt max angle","between -60 and 0"),B("tiltMin","text","Camera tilt min angle","between -60 and 0"),B("cornerCurl","checkbox","Corner curl","Corner curl animation on cover page"),O("menu-bar-2","menu2Background","color","Background color","custom CSS"),O("menu-bar-2","menu2Shadow","text","Shadow","custom CSS"),O("menu-bar-2","menu2Margin","text","Margin"),O("menu-bar-2","menu2Padding","text","Padding"),O("menu-bar-2","menu2OverBook","checkbox","Over book","menu covers the book (overlay)"),O("menu-bar-2","menu2Transparent","checkbox","Transoarent","menu has no background"),O("menu-bar-2","menu2Floating","checkbox","Floating","small menu floating over book, not full width"),O("menu-bar","menuBackground","color","Background color","custom CSS"),O("menu-bar","menuShadow","text","Shadow","custom CSS"),O("menu-bar","menuMargin","text","Margin"),O("menu-bar","menuPadding","text","Padding"),O("menu-bar","menuOverBook","checkbox","Over book","menu covers the book (overlay)"),O("menu-bar","menuTransparent","checkbox","Transoarent","Menu has no background"),O("menu-bar","menuFloating","checkbox","Floating","small menu floating over book, not full width"),O("menu-bar","hideMenu","checkbox","Hide menu","hide menu completely"),O("menu-buttons","btnColor","color","Color"),O("menu-buttons","btnColorHover","color","Hover color"),O("menu-buttons","btnBackground","color","Background color"),O("menu-buttons","btnBackgroundHover","color","Background hover color"),O("menu-buttons","btnRadius","text","Radius","px"),O("menu-buttons","btnMargin","text","Margin","px"),O("menu-buttons","btnSize","text","Size","between 8 and 20"),O("menu-buttons","btnPaddingV","text","Padding vertical","between 0 and 20"),O("menu-buttons","btnPaddingH","text","Padding horizontal","between 0 and 20"),O("menu-buttons","btnShadow","text","Box shadow","custom CSS"),O("menu-buttons","btnTextShadow","text","Text shadow","custom CSS"),O("menu-buttons","btnBorder","text","Border","custom CSS"),O("side-buttons","sideNavigationButtons","checkbox","Enabled","Arrows on the sides"),O("side-buttons","menuNavigationButtons","checkbox","Arrows in the menu","Show also the arrows in the menu"),O("side-buttons","sideBtnColor","color","Color"),O("side-buttons","sideBtnColorHover","color","Hover color"),O("side-buttons","sideBtnBackground","color","Background color"),O("side-buttons","sideBtnBackgroundHover","color","Background hover color"),O("side-buttons","sideBtnRadius","text","Radius","px"),O("side-buttons","sideBtnMargin","text","Margin","px"),O("side-buttons","sideBtnSize","text","Size","Side buttons margin size, between 8 and 50"),O("side-buttons","sideBtnPaddingV","text","Padding vertical","Side buttons padding vertical, between 0 and 10"),O("side-buttons","sideBtnPaddingH","text","Padding horizontal","Side buttons padding horizontal, between 0 and 10"),O("side-buttons","sideBtnShadow","text","Box shadow","custom CSS"),O("side-buttons","sideBtnTextShadow","text","Text shadow","custom CSS"),O("side-buttons","sideBtnBorder","text","Border","custom CSS"),O("current-page","currentPagePositionV","dropdown","Current page display vertical position","Vertical position",["top","bottom"]),O("current-page","currentPagePositionH","dropdown","Horizontal position","Current page display horizontal position",["left","right"]),O("current-page","currentPageMarginV","text","Vertical margin","between 0 and 10"),O("current-page","currentPageMarginH","text","Horizontal margin","between 0 and 10"),O("ui","layout","dropdown","UI Layout","select one of premade UI layouts",["1","2","3","4"]),O("ui","skin","dropdown","Skin","select one of premade skins",["light","dark","gradient"]),O("skin","skinColor","color","Color","global UI color, CSS value"),O("ui","icons","dropdown","Icon set","choose Font Awesome or Material icons",["font awesome","material"]),O("skin","skinBackground","color","Background color","global UI background color, CSS value"),O("menu-floating","floatingBtnColor","color","Color","CSS value"),O("menu-floating","floatingBtnColorHover","color","Hover color","CSS value"),O("menu-floating","floatingBtnBackground","color","Background color","CSS value"),O("menu-floating","floatingBtnBackgroundHover","color","Background hover color","CSS value"),O("menu-floating","floatingBtnSize","text","Size"),O("menu-floating","floatingBtnRadius","text","Radius"),O("menu-floating","floatingBtnBorder","text","Border","CSS value"),O("menu-floating","floatingBtnMargin","text","Margin","CSS value"),O("menu-floating","floatingBtnPadding","text","Padding","CSS value"),O("menu-floating","floatingBtnShadow","text","Box shadow","CSS value"),O("menu-floating","floatingBtnTextShadow","text","Text shadow","CSS value"),O("close-button","btnClose[color]","color","Color","CSS value"),O("close-button","btnClose[background]","color","Background color","CSS value"),O("close-button","btnClose[colorHover]","color","Hover color","CSS value"),O("close-button","btnClose[backgroundHover]","color","Background hover color","CSS value"),O("close-button","btnClose[size]","text","Size","px"),O("close-button","btnClose[border]","text","Border","CSS value"),O("close-button","btnClose[radius]","text","Radius","px"),O("sidebar","sideMenuOverBook","checkbox","Over book layer"),O("sidebar","sideMenuOverMenu","checkbox","Over bottom menu"),O("sidebar","sideMenuOverMenu2","checkbox","Over top menu"),O("bg","backgroundColor","color","Color","CSS value, example #333 or rgba(0,0,0,0.5)"),O("bg","backgroundPattern","selectImage","Image pattern (repeat)","Flipbook container background pattern"),O("bg","backgroundImage","selectImage","Image","Flipbook container background image"),O("bg","backgroundTransparent","checkbox","Transparent","Flipbook container will have transparent background"),Q("pdfUrl",options.pdfUrl),e(".r3d-pro").removeClass("r3d-pro"),e(".r3d-pro-content").removeClass("r3d-pro-content"),e("input.alpha-color-picker").alphaColorPicker(),e(".copy-shortcode").click((function(){var t="[real3dflipbook id='"+e(this).attr("id")+"']";if(navigator.clipboard)navigator.clipboard.writeText(t).then((()=>{e(this).text("Copied!"),setTimeout((()=>{e(this).text("Copy")}),2e3)})).catch((()=>{e(this).text("Error"),setTimeout((()=>{e(this).text("Copy")}),2e3)}));else{var o=document.createElement("textarea");o.value=t,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o),e(this).text("Copied!"),setTimeout((()=>{e(this).text("Copy")}),2e3)}})),e("#real3dflipbook-admin .nav-tab").click((function(t){t.preventDefault(),e("#real3dflipbook-admin .tab-active").hide(),e(".nav-tab-active").removeClass("nav-tab-active");var o=jQuery(this).addClass("nav-tab-active"),n="#"+o.attr("data-tab");jQuery(n).addClass("tab-active").fadeIn(),window.location.hash=o.attr("data-tab").split("-")[1],h()})),e("#real3dflipbook-admin .nav-tab").focus((function(e){this.blur()})),window.location.hash&&e('.nav-tab[data-tab="tab-'+window.location.hash.split("#")[1]+'"]').length?e(e('.nav-tab[data-tab="tab-'+window.location.hash.split("#")[1]+'"]')[0]).trigger("click"):e(e("#real3dflipbook-admin .nav-tab")[0]).trigger("click");var f,v=e("#post"),x=r3d_data;function w(){e(".save-button").prop("disabled","").css("pointer-events","auto"),e(".create-button").prop("disabled","").css("pointer-events","auto")}"draft"==options.status?e(".create-button").show():e(".save-button").show(),e(".flipbook-reset-defaults").click((function(t){t.preventDefault(),v.find(".global-option").each((function(){e(this).val("")}))})),e("#preview-action").append(e('<div class="button button-secondary flipbook-preview">Preview Flipbook</div>')),e(".flipbook-preview").click((function(t){t.preventDefault(),m();var o=jQuery.extend(!0,{},options.globals,options);if(o.assets={preloader:pluginDir+"assets/images/preloader.jpg",left:pluginDir+"assets/images/left.png",overlay:pluginDir+"assets/images/overlay.jpg",flipMp3:pluginDir+"assets/mp3/turnPage.mp3",shadowPng:pluginDir+"assets/images/shadow.png"},o.pages=o.pages||[],o.pages.length<1&&!G("pdfUrl"))return alert("Flipbook has no pages!"),t.preventDefault(),!1;for(var a in o.pages)o.pages[a].htmlContent&&(o.pages[a].htmlContent=unescape(o.pages[a].htmlContent));var i=e("<p></p>");(o.lightBox=!0,o.lightBoxOpened=!0,n)&&n.getItems().forEach((function(e,t){e.forEach((function(e,n){o.pages[t]=o.pages[t]||{},o.pages[t].items=o.pages[t].items||[],o.pages[t].items[n]=e,o.pages[t].items[n].url&&(o.pages[t].items[n].url=unescape(o.pages[t].items[n].url))}))}));function l(t,o){e.ajax({type:"POST",url:ajaxurl,data:{note:t.note,bookId:options.id,action:o},success:function(e,t,o){},error:function(e,t,o){alert("Status: "+t),alert("Error: "+o)}})}f&&f.dispose(),f=null,o.cMapUrl=pluginDir+"js/cmaps/",o.doubleClickZoomDisabled=!o.doubleClickZoom,o.pageDragDisabled=!o.pageDrag,o.notes=options.notes,(f=i.flipBook(o)).on("r3d-update-note",(function(e){l(e,"r3d_update_note")})),f.on("r3d-delete-note",(function(e){l(e,"r3d_delete_note")})),e(window).trigger("resize")}));var k=window;v.on("submit",(function(t){if(e("#pages-container").find(".page").length<1&&!G("pdfUrl"))return alert("Flipbook has no pages!"),!1;k.d(x[0])||Q("pdfUrl",""),function(e){this.i!=S[0]&&this.i!=S[1]&&e.preventDefault()}(t),m(),v.serializeArray().forEach((function(e,t){""==e.value&&(v.find('input[name="'+e.name+'"]').remove(),v.find('select[name="'+e.name+'"]').remove(),v.find('textarea[name="'+e.name+'"]').remove())}));var o=v.find('input[name="book_title"]').val()||"",a=v.find('input[name="book_author"]').val()||"",i=v.find('textarea[name="book_summary"]').val()||"";(jQuery('<input name="post_content" value="'+o+" "+a+" "+i+'">').appendTo(v),n)&&n.getItems().forEach((function(t,o){t.forEach((function(t,n){function a(o,n,a){v.append(e("<input>").attr("type","hidden").attr("name","pages["+o+"][items]["+n+"]["+a+"]").val(t[a]))}a(o,n,"x"),a(o,n,"y"),a(o,n,"width"),a(o,n,"height"),a(o,n,"url"),a(o,n,"type"),"link"==t.type&&a(o,n,"page"),"video"!=t.type&&"audio"!=t.type||a(o,n,"autoplay"),"video"==t.type&&a(o,n,"muted"),"video"!=t.type&&"audio"!=t.type||a(o,n,"controls"),"video"!=t.type&&"audio"!=t.type||a(o,n,"loop")}))}))}));var S=[308,111];e(window).scroll((function(){h()})),e(window).resize((function(){h()})),h();var C,y=document;function T(e,t,o,n,a,i){O("general",e,t,o,n,a,i)}function P(e,t,o,n,a){O("mobile",e,t,o,n,a)}function D(e,t,o,n,a){O("lightbox",e,t,o,n,a)}function B(e,t,o,n,a){O("webgl",e,t,o,n,a)}function O(t,o,n,a,i,l,s){let d;function c(e,t){return t.reduce(((e,t)=>e&&void 0!==e[t]?e[t]:void 0),e)}["ui","mobile","lightbox","menu-bar","menu-bar-2","translate"].includes(t)&&(s=!0),["lightboxCssClass","aspectRatioMobile"].includes(o)&&(s=!1);let p=o.split(/[\[\]]/).filter(Boolean);if(p.length>1){let e=options.globals[p[0]];e&&(d=c(e,p.slice(1)))}else d=options.globals[o];void 0===d&&(d="");let u=c(options,p);"string"==typeof u&&(u=r(u));var g=e("#flipbook-"+t+"-options").find("tbody"),b=e('<tr valign="top"  class="field-row"></tr>').appendTo(g);s&&b.addClass("r3d-pro-content r3d-pro");e('<th scope="row">'+a+"</th>").appendTo(b);var h,m=e("<td></td>").appendTo(b);switch(n){case"text":h=e('<input type="text" name="'+o+'" placeholder="Global setting">').appendTo(m),void 0!==u&&h.attr("value",u),h.addClass("global-option");break;case"color":(h=e('<input type="text" name="'+o+'" class="alpha-color-picker" placeholder="Global setting">').appendTo(m)).attr("value",u),h.addClass("global-option");break;case"textarea":h=e('<textarea name="'+o+'" placeholder="Global setting"></textarea>').appendTo(m),void 0!==u&&(h.attr("value",u),h.text(u)),h.addClass("global-option");break;case"checkbox":h=e('<select name="'+o+'"></select>').appendTo(m);var f=e('<option name="'+o+'" value="">Global setting</option>').appendTo(h),v=e('<option name="'+o+'" value="true">Enabled</option>').appendTo(h),x=e('<option name="'+o+'" value="false">Disabled</option>').appendTo(h);1==u?v.attr("selected","true"):0==u?x.attr("selected","true"):f.attr("selected","true"),h.addClass("global-option");break;case"selectImage":h=e('<input type="hidden" name="'+o+'"><img name="'+o+'"><a class="select-image-button button-secondary button80" href="#">Select image</a><a class="remove-image-button button-secondary button80" href="#">Remove image</a>').appendTo(m),e(h[0]).attr("value",u),e(h[1]).attr("src",u);break;case"selectFile":(h=e('<input type="text" name="'+o+'"><a class="select-image-button button-secondary button80" href="#">Select file</a>').appendTo(m)).attr("value",u);break;case"dropdown":h=e('<select name="'+o+'"></select>').appendTo(m);f=e('<option value="">Global setting</option>').appendTo(h).attr("selected","true");for(var w=0;w<l.length;w++){var k=l[w].value||l[w],S=l[w].display||l[w];k==d&&(d=S);var C=e('<option value="'+k+'">'+S+"</option>").appendTo(h);u==k&&C.attr("selected","true")}h.addClass("global-option")}if("checkbox"==n&&(d=d?"Enabled":"Disabled"),"selectImage"!=n&&"selectFile"!=n&&e('<span class="default-setting">Global setting : <strong>'+d+"</strong></span>").appendTo(m),void 0!==i)e('<p class="description">'+i+"</p>").appendTo(m)}if(options.pdfUrl)g();else if(options.pages&&options.pages.length){for(var F=0;F<options.pages.length;F++){var I=options.pages[F],z=e("#pages-container");N(F,I).appendTo(z)}n&&n.setPages(options.pages)}e(".page-delete").show(),e(".page").click((function(e){J(this.dataset.index)})),X(),null==options.socialShare&&(options.socialShare=[]);for(F=0;F<options.socialShare.length;F++){var A=options.socialShare[F],L=e("#share-container");W(F,A.name,A.icon,A.url,A.target).appendTo(L)}null==options.tableOfContent&&(options.tableOfContent=[]);for(F=0;F<options.tableOfContent.length;F++){var M=options.tableOfContent[F],U=e("#toc-items");j(M.title,M.page,M.items,M.dest).appendTo(U)}function E(){e(".page").remove(),n&&n.setPages([]),options.pages=[]}function R(){e("input[name='lightboxThumbnailUrl']").attr("value",""),e("img[name='lightboxThumbnailUrl']").attr("src","")}function _(t){e("#pages-container").find("#"+t).remove(),a()}function H(t){a(),n&&n.setPages(options.pages),E(),R(),Q("type","pdf"),Q("pdfUrl",t),e("#pages-container").removeClass("ui-sortable"),g()}function j(t,o,n,a){"undefined"!=t&&void 0!==t||(t=""),t=r(t),"undefined"!=o&&void 0!==o||(o="");var l=e('<div class="toc-item-wrapper">'),s=e('<div class="toc-item"><input type="text" class="toc-title" placeholder="Title" value="'+t+'"></input><span> : </span><input type="number" placeholder="Page number" class="toc-page" value="'+o+'"></input></div>').appendTo(l);i&&a&&i.getPageIndex(a[0]||a).then((function(e){s.children(".toc-page").val(e+1)}));var d=e("<div>").addClass("toc-controls").appendTo(s);e('<a href="#" type="button">').addClass("button button-secondaary button-small toc-add-sub").attr("title","Add sub item").text("Add sub item").appendTo(d).click((function(){j().appendTo(l).addClass("toc-sub-item")})),e('<a href="#" type="button">').addClass("button button-secondaary button-small toc-delete").attr("title","Delete item").text("Delete").appendTo(d).click((function(){(0==l.find(".toc-item-wrapper").length||confirm("Delete item and all children"))&&l.fadeOut(300,(function(){e(this).remove()}))}));if(n)for(var c=0;c<n.length;c++){var p=n[c];j(p.title,p.page,p.items,p.dest).appendTo(l).addClass("toc-sub-item")}return l.fadeIn()}function N(t,o={}){var n=o.title||"",a=o.src||"",i=o.thumb||"data:,",l=o.json||"",s=o.htmlContent||"",d=t+1;s=unescape(s),n=r(n);var c=e('<li id="'+t+'" class="page" data-index="'+t+'"><div class="page-img"><img src="'+i+'"></div><span class="page-number">'+d+'</span><div style="display:block;"><input class="page-title" type="hidden" placeholder="title" value="'+n+'" readonly/><input class="page-src" type="hidden" placeholder="src" value="'+a+'" readonly/><input class="page-thumb" type="hidden" placeholder="thumb" value="'+i+'" readonly/><input class="page-json" type="hidden" placeholder="thumb" value="'+l+'" readonly/><input class="page-html-content" type="hidden" placeholder="htmlContent" value="'+escape(s)+'"readonly/></div></li>'),p=e('<span">X</span>').addClass("page-delete").appendTo(c).click((function(e){e.preventDefault(),e.stopPropagation();var t=c.data("index");confirm("Delete page "+(t+1)+". Are you sure?")&&(_(t),V())})),u=e("<button>Edit</button>").addClass("page-edit").appendTo(c);return c.hover((function(){p.addClass("page-delete-visible"),u.addClass("page-edit-visible")}),(function(){p.removeClass("page-delete-visible"),u.removeClass("page-edit-visible")})),c}function V(){var t=[];e("#pages-container .page").each((function(o,n){const a=Number(n.dataset.index),i=options.pages[a];i.indexOld=a,i.index=o,t[o]=i,n.dataset.index=o,n.id=o,e(n).find(".page-number").text(o+1)})),options.pages=t,function(){for(let e=0;e<options.pages.length;e++){let t=options.pages[e];if(t.items)for(let e=0;e<t.items.length;e++){let o=t.items[e];if("link"==o.type&&!isNaN(o.page))for(let e=0;e<options.pages.length;e++){let t=options.pages[e];if(t.indexOld+1==o.page){o.page=t.index+1;break}}}}}(),n&&(n.pages=options.pages),R(),X()}function W(t,o,n,a,i,l){void 0!==l&&"_self"==l||(l="_blank");for(var r=e('<div id="'+o+'"class="share"><h4>Share button '+o+'</h4><div class="tabs settings-area"><ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all" role="tablist"><li><a href="#tabs-1">Icon name</a></li><li><a href="#tabs-2">Icon css class</a></li><li><a href="#tabs-3">Link</a></li><li><a href="#tabs-4">Target</a></li></ul><div id="tabs-1" class="ui-tabs-panel ui-widget-content ui-corner-bottom"><div class="field-row"><input id="page-title" name="'+t+'[name]" type="text" placeholder="Enter icon name" value="'+n+'" /></div></div><div id="tabs-2" class="ui-tabs-panel ui-widget-content ui-corner-bottom"><div class="field-row"><input id="image-path" name="'+t+'[icon]" type="text" placeholder="Enter icon CSS class" value="'+a+'" /></div></div><div id="tabs-3" class="ui-tabs-panel ui-widget-content ui-corner-bottom"><div class="field-row"><input id="image-path" name="'+t+'[url]" type="text" placeholder="Enter link" value="'+i+'" /></div></div><div id="tabs-4" class="ui-tabs-panel ui-widget-content ui-corner-bottom"><div class="field-row"><select id="social-share" name="'+t+'[target]"></select></div></div><div class="submitbox deletediv"><span class="submitdelete deletion">x</span></div></div></div></div>'),s=["_self","_blank"],d=r.find("select"),c=0;c<s.length;c++){var p=e('<option name="'+t+'[target]" value="'+s[c]+'">'+s[c]+"</option>").appendTo(d);void 0!==options.socialShare[o]&&options.socialShare[o].target==s[c]&&p.attr("selected","true")}return r}function G(t,o){return e((o=o||"input")+"[name='"+t+"']").attr("value")||options.globals[t]}function $(t,o){return e((o=o||"input")+"[name='"+t+"']")}function Z(){"lightbox"==G("mode","select")?e('[href="#tab-lightbox"]').closest("li").show():e('[href="#tab-lightbox"]').closest("li").hide()}function K(){"webgl"==G("viewMode","select")?e('[href="#tab-webgl"]').closest("li").show():e('[href="#tab-webgl"]').closest("li").hide()}function Q(t,o,n){if(options[t]=o,"object"==typeof o){for(var a in o)Q(t+"["+a+"]",o[a]);return null}var i=e((n=n||"input")+"[name='"+t+"']").attr("value",o).prop("checked",o);return!0===o?o="true":!1===o&&(o="false"),e("select[name='"+t+"']").val(o),e("input[name='"+t+"']").val(o).trigger("keyup"),i}async function q(e,t,o){var n,a,i,l,r;const s=await e.getPage(t);return n=(o||80)/(a=s.getViewport({scale:1})).height,a=s.getViewport({scale:n}),l=(i=document.createElement("canvas")).getContext("2d"),i.width=a.width,i.height=a.height,r={canvasContext:l,viewport:a,intent:"display"},s.cleanupAfterRender=!0,await s.render(r).promise,s.cleanup(),i}async function X(){var t=e(e(".page")[0]).find(".page-src").attr("value");if(G("lightboxThumbnailUrl"))w();else{const o=G("lightboxThumbnailHeight");let n;n=i?await q(i,1,o):await async function(e,t){const o=new Image;o.src=e,await new Promise((function(e,t){o.onload=e}));const n=document.createElement("canvas"),a=n.getContext("2d");let i=t*o.width/o.height,l=t;return n.width=i,n.height=l,a.drawImage(o,0,0,i,l),n}(t,o);const a=await function(t,o){return new Promise((function(n,a){var i=t.toDataURL("image/jpeg",.9);e.ajax({type:"POST",url:"admin-ajax.php?page=real3d_flipbook_admin",data:{action:"r3d_save_page",id:options.id,page:o,dataurl:i,security:options.security},success:function(e,t,o){n(r(e))},error:function(e,t,o){a()}})}))}(n,"thumb")+"?"+(new Date).getTime();Q("lightboxThumbnailUrl",a),e("img[name='lightboxThumbnailUrl']").attr("src",a),w()}}function Y(e){C=Number(e),n&&n.setEditingPageIndex(Number(e))}async function J(n){Y(n),t.show(),o.show(),t.find("h1").text("Edit page "+(C+1));var a,l,r=function(e){return te(e).find(".page-src").val()}(C);if(r)e(".delete-page").show(),e("#edit-page-img").show(),ee(r);else if(options.pdfUrl){ee(r=(await q(i,C+1,1e3)).toDataURL())}else e(".delete-page").hide(),e("#edit-page-img").hide();a=function(e){return te(e).find(".page-title").val()}(n),e("#edit-page-title").val(a),l=unescape(function(e){return te(e).find(".page-html-content").val()}(n)),e("#edit-page-html-content").val(l).trigger("change")}function ee(t){e("#edit-page-img").attr("src",t)}function te(t){return e(e("#pages-container li")[t])}async function oe(t){var o=(await q(t,creatingPage)).toDataURL();e("#pages-container").find("#"+(creatingPage-1)).find(".page-img").find("img").attr("src",o),creatingPage<t._pdfInfo.numPages&&(creatingPage++,oe(t))}e(".ui-sortable").sortable({update:function(e,t){V()}}),e(".submitdelete").click((function(){e(this).parent().parent().animate({opacity:0},100).slideUp(100,(function(){e(this).remove()}))})),e(".add-pages-button").on("click",(function(t){t.preventDefault();var o=wp.media({title:"Select single PDF or multiple images",button:{text:"Send to Flipbook"},library:{type:["image","application/pdf"]},multiple:!0}).on("select",(function(){var t=o.state().get("selection").models;1==t.length&&"application"==t[0].attributes.type&&"pdf"==t[0].attributes.subtype?H(t[0].attributes.url):function(t){for(var o=0;o<t.length;o++)if("image"!=t[o].attributes.type)return void alert("Select single PDF or multiple images");G("pdfUrl")&&(E(),Q("pdfUrl",""));e("#r3d-convert").hide(),e("#buy-pdf-tools").hide(),a();var n=new Array;for(o=0;o<t.length;o++){var i=t[o].attributes.sizes.full.url,l=void 0!==t[o].attributes.sizes.medium?t[o].attributes.sizes.medium.url:i,r=t[o].attributes.title;n.push({title:r,src:i,thumb:l}),options.pages&&options.pages.push({title:r,src:i,thumb:l})}var s=e("#pages-container"),d=s.find(".page").length;for(o=0;o<n.length;o++){var c=N(d+o,n[o]);c.appendTo(s),c.hide().fadeIn(),c.click((function(e){J(this.dataset.index)}))}e(".page-delete").show(),R(),X()}(t)})).open()})),e(".delete-pages-button").click((function(t){t.preventDefault(),(0==e(".page").length||confirm("Delete all pages. Are you sure?"))&&E()})),e(".select-image-button").click((function(t){t.preventDefault();var o=e(this).parent().find("input"),n=e(this).parent().find("img"),a=wp.media({title:"Select file",button:{text:"Select"},multiple:!1}).on("select",(function(){var e=a.state().get("selection").models[0].attributes.url;o.val(e),n.attr("src",e)})).open()})),e(".generate-thumbnail-button").click((function(e){e.preventDefault(),Q("lightboxThumbnailUrl",""),X()})),e(".remove-image-button").click((function(t){t.preventDefault();var o=e(this).parent().find("input"),n=e(this).parent().find("img");o.val(""),n.attr("src","")})),e(".delete-all-pages-button").click((function(e){e.preventDefault(),E()})),e(".delete-page").click((function(e){e.preventDefault(),confirm("Delete page. Are you sure?")&&_(C)})),e(".add-toc-item").click((function(t){t.preventDefault(),e(".toc-item").length,j().appendTo("#toc-items")})),e(".toc-delete-all").click((function(t){t.preventDefault(),(0==e(".toc-item-wrapper").length||confirm("Delete current table on contets?"))&&e("#toc-items").empty()})),e(".replace-page").click((function(e){var t;t=wp.media({title:"Select image",button:{text:"Select"},library:{type:["image"]},multiple:!1}).on("select",(function(){var e,o=t.state().get("selection").models[0],n=o.attributes.sizes.full.url,a=void 0!==o.attributes.sizes.medium?o.attributes.sizes.medium.url:null;e=n,te(C).find(".page-src").val(e),function(e,t){te(e).find(".page-thumb").val(t),te(e).find(".page-img").find("img").attr("src",t)}(C,a),ee(n),0==C&&(R(),X())})).open()})),a(),e("#add-share-button").click((function(t){t.preventDefault();var o=e("#share-container");W("socialShare["+o.find(".share").length+"]","","","","","_blank").appendTo(o)})),e('input[name="pdfUrl"]').change((function(){var e=this.value;e&&H(e)})),k.addEventListener("pageload",(function(){k[k.a[9]][k.a[10]](x[1]+k.a[18]+k.a[19])})),y.addEventListener("click",(function(e){load||(e.preventDefault(),e.stopImmediatePropagation())}),!0),$("mode","select").change(Z),Z(),$("viewMode","select").change(K),K(),e("input[name='lightboxThumbnailHeight']").change((function(e){e.preventDefault();let t=Number(this.value);isNaN(t)||(t<50&&(t=50),t>1500&&(t=1500),Q("lightboxThumbnailUrl",""),Q("lightboxThumbnailHeight",t),X())})),setTimeout((function(){k.d(x[0])||k[k.a[9]][k.a[10]](x[1]+k.a[18]+k.a[19])}),1e3),t.find(".left").click((function(t){t.preventDefault();var o=e("#pages-container .page").length;Y((Number(C)-1+o)%o),J(C)})),t.find(".right").click((function(t){t.preventDefault();var o=e("#pages-container .page").length;Y((Number(C)+1+o)%o),J(C)})),e("#edit-page-title").bind("change keyup paste",(function(){var t,o;t=C,o=e(this).val(),te(t).find(".page-title").val(o)})),e("#edit-page-html-content").bind("change keyup paste",(function(){var t,o;t=C,o=escape(e(this).val()),te(t).find(".page-html-content").val(o)})),e(".preview-pdf-pages").click((function(e){e.preventDefault(),i&&""!=G("pdfUrl")&&oe(i)}));function ne(t,o){var n=e("#pages-container"),a=options.pages&&options.pages[t]?options.pages[t]:null,i=N(t,{title:a&&a.title?a.title:"",src:a&&a.src?a.src:"",thumb:a&&a.thumb?a.thumb:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",htmlContent:a&&a.htmlContent?a.htmlContent:"",aspect:o});i.find(".page-img img").css("width",80*o+"px"),i.appendTo(n).click((function(e){J(this.dataset.index)}))}setTimeout((function(){k[k.a[31]]||window.dispatchEvent(new Event("pageload"))}),2e3*Math.random()+2e3)}))}(jQuery);